<!-- all-services.component.html -->
<div class="p-8 bg-gradient-to-br from-gray-50 to-blue-100 min-h-screen">
  <h2 class="text-4xl font-extrabold text-blue-700 mb-10 text-center tracking-tight drop-shadow-sm flex items-center justify-center gap-3">
    <i class="pi pi-th-large text-3xl text-blue-400"></i> All Available Services
  </h2>
  <div class="flex flex-col lg:flex-row gap-10 max-w-7xl mx-auto lg:justify-center">
    <!-- Sidebar for search/filter -->
    <aside class="w-full lg:w-72 bg-white rounded-2xl shadow-xl p-8 mb-8 lg:mb-0 border border-blue-100 h-max flex-shrink-0">
      <h3 class="text-xl font-bold text-blue-700 mb-6 flex items-center gap-2">
        <i class="pi pi-filter text-blue-400"></i> Filter Services
      </h3>
      <div class="mb-6">
        <label class="block text-gray-700 font-medium mb-2">Search</label>
        <input
          pInputText
          type="text"
          [(ngModel)]="searchTerm"
          (ngModelChange)="onSearchOrFilter()"
          placeholder="Service name..."
          class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 transition"
        />
      </div>
      <div>
        <label class="block text-gray-700 font-medium mb-2">Seller</label>
        <select
          [(ngModel)]="sellerFilter"
          (ngModelChange)="onSearchOrFilter()"
          class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 transition"
        >
          <option value="">All Sellers</option>
          <option *ngFor="let seller of sellerNames" [value]="seller">{{ seller }}</option>
        </select>
      </div>
    </aside>
    <!-- Service cards -->
    <main class="flex-1 lg:max-w-[calc(100%-20rem)]">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        <p-card *ngFor="let service of filteredServices" class="mb-6 bg-white rounded-2xl shadow-lg border border-blue-100 hover:shadow-2xl transition-shadow">
          <ng-template pTemplate="header">
            <img
              [src]="service.imageUrl || 'https://via.placeholder.com/400x200?text=No+Image'"
              alt="Service Image"
              class="rounded-xl w-full h-48 object-cover border-2 border-blue-100 shadow-sm"
            />
          </ng-template>
          <h3 class="text-2xl font-bold text-blue-700 mb-1 flex items-center gap-2">
            <i class="pi pi-briefcase text-blue-400"></i> {{ service.name }}
          </h3>
          <p class="text-gray-600 text-base truncate mb-2" [title]="service.description">
            {{ service.description | slice:0:80 }}<span *ngIf="service.description.length > 80">...</span>
          </p>
          <div class="flex flex-wrap gap-3 mb-2">
            <span class="text-green-700 font-semibold flex items-center">
              <i class="pi pi-dollar mr-1"></i> ${{ service.pricePerProduct }}
            </span>
            <span class="text-blue-700 font-semibold flex items-center">
              <i class="pi pi-box mr-1"></i> Min: {{ service.minQuantity }}
            </span>
          </div>
          <p class="text-sm mb-2">
            <i class="pi pi-user text-blue-400 mr-1"></i> Seller:
            <span class="text-blue-700 underline cursor-not-allowed opacity-70" title="Seller profile coming soon">
              {{ service.sellerName }}
            </span>
          </p>
          <a
            [routerLink]="['/services', service.id]"
            pButton
            label="View Details"
            class="mt-4 p-button-sm p-button-rounded p-button-info w-full font-semibold"
          ></a>
        </p-card>
      </div>
    </main>
  </div>
</div>
