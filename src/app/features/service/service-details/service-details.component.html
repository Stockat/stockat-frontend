<div class="min-h-screen flex items-center justify-center bg-gray-50">
  <div class="p-6 max-w-3xl w-full mx-auto bg-white rounded-2xl shadow-xl border border-blue-100">
    <img
      [src]="service?.imageUrl || 'https://via.placeholder.com/600x300?text=No+Image'"
      class="w-full h-64 object-cover rounded-xl mb-6 border-4 border-blue-100 shadow-lg"
      alt="Service Image"
    />

    <h1 class="text-4xl font-extrabold mb-2 text-blue-700 flex items-center gap-2">
      <i class="pi pi-briefcase text-2xl text-blue-400"></i> {{ service?.name }}
    </h1>
    <p class="text-gray-700 mb-6 text-lg leading-relaxed">{{ service?.description }}</p>

    <ul class="text-gray-600 space-y-2 mb-8 text-base">
      <li><i class="pi pi-dollar text-blue-600 mr-1"></i><strong>Price per product:</strong> <span class="ml-2 text-blue-700 font-semibold">${{ service?.pricePerProduct }}</span></li>
      <li><i class="pi pi-box text-blue-500 mr-1"></i><strong>Minimum Quantity:</strong> <span class="ml-2 font-semibold">{{ service?.minQuantity }}</span></li>
      <li><i class="pi pi-clock text-blue-400 mr-1"></i><strong>Estimated Time:</strong> <span class="ml-2 font-semibold">{{ service?.estimatedTime }}</span></li>
 <li>
    <i class="pi pi-user text-blue-500 mr-1"></i>
    <strong>Seller:</strong>
    <span class="ml-2">
      <a
        *ngIf="service?.sellerId"
        [routerLink]="['/seller-profile', service?.sellerId]"
        class="text-blue-700 underline hover:text-blue-900 transition-colors"
        >{{ service?.sellerName }}</a
      >
      <span *ngIf="!service?.sellerId" class="text-blue-700 opacity-70 cursor-not-allowed">{{ service?.sellerName }}</span>
    </span>
  </li>
    </ul>

    <div class="flex flex-col sm:flex-row gap-4 items-center">
      <button
        pButton
        type="button"
        label="Request Service"
        class="p-button-success px-6 py-2 rounded-lg shadow-md text-lg font-semibold"
        [disabled]="hasPendingRequest"
        (click)="openRequestModal()"
      ></button>
      <span *ngIf="hasPendingRequest" class="text-xs text-gray-600 block mt-2 sm:mt-0">
        <i class="pi pi-info-circle text-yellow-500 mr-1"></i> You already have a pending request for this service.
      </span>
    </div>

    <button
      pButton
      type="button"
      label="Back to All Services"
      class="p-button-secondary mt-8 w-full sm:w-auto px-6 py-2 rounded-lg font-semibold"
      (click)="goBackToServices()"
    ></button>
  </div>
</div>

<!-- Modal -->
<p-dialog
  header="Request Service"
  [(visible)]="isModalOpen"
  [modal]="true"
  [style]="{width: '400px'}"
  [closable]="true"
  (onHide)="isModalOpen = false"
>
  <app-request-modal
    *ngIf="service"
    [serviceId]="service.id"
    [minQuantity]="service.minQuantity"
    (close)="isModalOpen = false"
    (requestSubmitted)="onRequestSubmitted()"
  ></app-request-modal>
</p-dialog>

